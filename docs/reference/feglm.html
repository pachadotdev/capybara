<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>feglm ‚Ä¢ capybara</title><link rel="stylesheet" href="../menu.css"><link rel="stylesheet" href="../content.css"><!-- MathJax Configuration --><script>
    window.MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]'], ['$$', '$$']],
        processEscapes: true,
        processEnvironments: true,
        packages: {'[+]': ['ams', 'newcommand', 'configmacros']}
      },
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
      }
    };
  </script><script id="MathJax-script" async src="../js/tex-svg.js"></script></head><body>
<div class="main-container">
<div id="menu">
  <div>
    <img src="../man/figures/logo.svg" align="center" height="139" alt="capybara logo"></div>

  <div class="search-container">
    <input type="text" id="search-box" placeholder="Search..."></div>

  <div class="search-container">
    <button id="theme-toggle" title="Toggle dark mode" aria-label="Toggle dark mode">Toggle theme</button>
    <button id="font-decrease" title="Decrease font size" aria-label="Decrease font size">A-</button>
    <button id="font-increase" title="Increase font size" aria-label="Increase font size">A+</button>
  </div>

  <div class="submenu">
    <label style="border-bottom: 0;"><a style="padding-left: 0;" href="../index.html">Home üè†</a></label>
  </div>

  <div class="submenu">
    <label>Functions</label>
    <a href="../reference/apes.html">apes</a>
    <a href="../reference/bias_corr.html">bias_corr</a>
    <a href="../reference/feglm.html">feglm</a>
    <a href="../reference/felm.html">felm</a>
    <a href="../reference/fenegbin.html">fenegbin</a>
    <a href="../reference/fepoisson.html">fepoisson</a>
    <a href="../reference/fit_control.html">fit_control</a>
    <a href="../reference/summary_table.html">summary_table</a>
  </div>

  <div class="submenu">
    <label>Vignettes</label>
    <a href="../vignettes/intro.html">Poisson Pseudo-Maximum Likelihood (PPML) Model with Cluster-Robust Standard Errors</a>
    <a href="../vignettes/separation.html">Nonexistence of estimates of Poisson models</a>
  </div>

  <div class="submenu">
    <label>News</label>
    <a href="../news/index.html">Changelog</a>
  </div>
</div>
<div id="content">
<div class="content-wrapper">
        <div class="content-main">

<table style="width: 100%;"><tr><td>feglm {capybara}</td><td style="text-align: right;">R Documentation</td></tr></table><h2>GLM fitting with high-dimensional k-way fixed effects</h2>

<h3>Description</h3>

<p>feglm can be used to fit generalized linear models with many high-dimensional fixed effects. The
term fixed effect means having one intercept for each level in each category.
</p>


<h3>Usage</h3>

<pre><code class="language-R">feglm(
  formula = NULL,
  data = NULL,
  family = gaussian(),
  weights = NULL,
  beta_start = NULL,
  eta_start = NULL,
  offset = NULL,
  control = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role="presentation"><tr><td><code id="formula">formula</code></td>
<td>
an object of class <code>"formula"</code>: a symbolic description of the model to be fitted. <code>formula</code>
must be of type <code>response ~ slopes | fixed_effects | cluster</code>.
</td></tr><tr><td><code id="data">data</code></td>
<td>
an object of class <code>"data.frame"</code> containing the variables in the model. The expected input is a
dataset with the variables specified in <code>formula</code> and a number of rows at least equal to the number of variables
in the model.
</td></tr><tr><td><code id="family">family</code></td>
<td>
the link function to be used in the model. Similar to glm.fit this has to be the result
of a call to a family function. Default is <code>gaussian()</code>. See family for details of family
functions.
</td></tr><tr><td><code id="weights">weights</code></td>
<td>
an optional string with the name of the prior weights variable in <code>data</code>.
</td></tr><tr><td><code id="beta_start">beta_start</code></td>
<td>
an optional vector of starting values for the structural parameters in the linear predictor.
Default is <code class="reqn">\boldsymbol{\beta} = \mathbf{0}</code>.
</td></tr><tr><td><code id="eta_start">eta_start</code></td>
<td>
an optional vector of starting values for the linear predictor.
</td></tr><tr><td><code id="offset">offset</code></td>
<td>
an optional formula or numeric vector specifying an a priori known component to be included in the
linear predictor. If a formula, it should be of the form <code>~ log(variable)</code>.
</td></tr><tr><td><code id="control">control</code></td>
<td>
a named list of parameters for controlling the fitting process. See fit_control for details.
</td></tr></table><h3>Details</h3>

<p>If feglm does not converge this is often a sign of linear dependence between one or more
regressors and a fixed effects category. In this case, you should carefully inspect your model specification.
</p>


<h3>Value</h3>

<p>A named list of class <code>"feglm"</code>. The list contains the following fifteen elements:
</p>
<table role="presentation"><tr><td><code>coefficients</code></td>
<td>
a named vector of the estimated coefficients
</td></tr><tr><td><code>eta</code></td>
<td>
a vector of the linear predictor
</td></tr><tr><td><code>weights</code></td>
<td>
a vector of the weights used in the estimation
</td></tr><tr><td><code>hessian</code></td>
<td>
a matrix with the numerical second derivatives
</td></tr><tr><td><code>deviance</code></td>
<td>
the deviance of the model
</td></tr><tr><td><code>null_deviance</code></td>
<td>
the null deviance of the model
</td></tr><tr><td><code>conv</code></td>
<td>
a logical indicating whether the model converged
</td></tr><tr><td><code>iter</code></td>
<td>
the number of iterations needed to converge
</td></tr><tr><td><code>nobs</code></td>
<td>
a named vector with the number of observations used in the estimation indicating the dropped and
perfectly predicted observations
</td></tr><tr><td><code>fe_levels</code></td>
<td>
a named vector with the number of levels in each fixed effects
</td></tr><tr><td><code>nms_fe</code></td>
<td>
a list with the names of the fixed effects variables
</td></tr><tr><td><code>formula</code></td>
<td>
the formula used in the model
</td></tr><tr><td><code>data</code></td>
<td>
the data used in the model after dropping non-contributing
observations
</td></tr><tr><td><code>family</code></td>
<td>
the family used in the model
</td></tr><tr><td><code>control</code></td>
<td>
the control list used in the model
</td></tr></table><h3>References</h3>

<p>Gaure, S. (2013). "OLS with Multiple High Dimensional Category Variables". Computational Statistics and
Data Analysis, 66.
</p>
<p>Marschner, I. (2011). "glm2: Fitting generalized linear models with convergence problems". The R Journal,
3(2).
</p>
<p>Stammann, A., F. Heiss, and D. McFadden (2016). "Estimating Fixed Effects Logit Models with Large Panel
Data". Working paper.
</p>
<p>Stammann, A. (2018). "Fast and Feasible Estimation of Generalized Linear Models with High-Dimensional
k-Way Fixed Effects". ArXiv e-prints.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Model without clustering - uses inverse Hessian for vcov
mod &lt;- feglm(mpg ~ wt | cyl, mtcars, family = poisson(link = "log"))
summary(mod)

# Model with clustering - uses sandwich vcov automatically
mod &lt;- feglm(mpg ~ wt | cyl | am, mtcars, family = poisson(link = "log"))
summary(mod)

</code></pre>


</div>
        </div>
        <footer><p id="last-updated">Loading...</p>
</footer><script src="../js/footer.js"></script><script src="../js/theme.js"></script><script src="../js/search.js"></script><script src="../js/fontsize.js"></script></div>
</div>

</body></html>

