% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_control.R
\name{fit_control}
\alias{fit_control}
\title{Set \code{feglm} Control Parameters}
\usage{
fit_control(
  dev_tol = 1e-08,
  center_tol = 1e-06,
  center_tol_loose = 1e-04,
  collin_tol = 1e-10,
  step_halving_factor = 0.5,
  alpha_tol = 1e-08,
  iter_max = 25L,
  iter_center_max = 10000L,
  iter_inner_max = 50L,
  iter_alpha_max = 10000L,
  step_halving_memory = 0.9,
  max_step_halving = 2L,
  start_inner_tol = 1e-06,
  grand_acc_period = 4L,
  sep_tol = 1e-08,
  sep_zero_tol = 1e-12,
  sep_max_iter = 200L,
  sep_simplex_max_iter = 2000L,
  sep_use_relu = TRUE,
  sep_use_simplex = TRUE,
  return_fe = TRUE,
  keep_tx = FALSE,
  check_separation = TRUE,
  init_theta = 0,
  vcov_type = NULL
)
}
\arguments{
\item{dev_tol}{tolerance level for the first stopping condition of the maximization routine. The stopping condition
is based on the relative change of the deviance in iteration \eqn{r} and can be expressed as follows: \eqn{|dev_{r}
 - dev_{r - 1}| / (0.1 + |dev_{r}|) < tol}{|dev - devold| / (0.1 + |dev|) < tol}. The default is \code{1.0e-08}.}

\item{center_tol}{tolerance level for the stopping condition of the centering algorithm. The stopping condition is
based on the relative change of the centered variable similar to the \code{'lfe'} package. The default is
\code{1.0e-06}.}

\item{center_tol_loose}{initial (loose) tolerance for adaptive centering in GLM iterations. During early IRLS
iterations when deviance is changing rapidly, this looser tolerance is used to save computation. As the GLM
converges, the tolerance is tightened towards \code{center_tol}. The default is \code{1.0e-04}.}

\item{collin_tol}{tolerance level for detecting collinearity. The default is \code{1.0e-07}.}

\item{step_halving_factor}{numeric indicating the factor by which the step size is halved to iterate towards
convergence. This is used to control the step size during optimization. The default is \code{0.5}.}

\item{alpha_tol}{tolerance for fixed effects (alpha) convergence. The default is \code{1.0e-06}.}

\item{iter_max}{integer indicating the maximum number of iterations in the maximization routine. The default is
\code{25L}.}

\item{iter_center_max}{integer indicating the maximum number of iterations in the centering algorithm. The default is
\code{10000L}.}

\item{iter_inner_max}{integer indicating the maximum number of iterations in the inner loop of the centering
algorithm. The default is \code{50L}.}

\item{iter_alpha_max}{maximum iterations for fixed effects computation. The default is \code{10000L}.}

\item{step_halving_memory}{numeric memory factor for step-halving algorithm. Controls how much of the previous
iteration is retained. The default is \code{0.9}.}

\item{max_step_halving}{maximum number of post-convergence step-halving attempts. The default is \code{2}.}

\item{start_inner_tol}{starting tolerance for inner solver iterations. The default is \code{1.0e-04}.}

\item{grand_acc_period}{integer indicating the period (in iterations) for grand acceleration in the centering
algorithm. Grand acceleration applies a second-level Irons-Tuck extrapolation on the overall convergence
trajectory. Lower values (e.g., 4-10) may speed up convergence for difficult problems. Set to a very large
value (e.g., 10000) to effectively disable. The default is \code{4L}.}

\item{sep_tol}{tolerance for separation detection. The default is \code{1.0e-08}.}

\item{sep_zero_tol}{tolerance for treating values as zero in separation detection. The default is \code{1.0e-12}.}

\item{sep_max_iter}{maximum iterations for ReLU separation detection algorithm. The default is \code{200L}.}

\item{sep_simplex_max_iter}{maximum iterations for simplex separation detection algorithm. The default is \code{2000L}.}

\item{sep_use_relu}{logical indicating whether to use the ReLU algorithm for separation detection. The default is \code{TRUE}.}

\item{sep_use_simplex}{logical indicating whether to use the simplex algorithm for separation detection. The default is \code{TRUE}.}

\item{return_fe}{logical indicating if the fixed effects should be returned. This can be useful when fitting general
equilibrium models where skipping the fixed effects for intermediate steps speeds up computation. The default is
\code{TRUE} and only applies to the \code{feglm} class.}

\item{keep_tx}{logical indicating if the centered regressor matrix should be stored. The centered regressor matrix is
required for some covariance estimators, bias corrections, and average partial effects. This option saves
some computation time at the cost of memory. The default is \code{TRUE}.}

\item{check_separation}{logical indicating whether to perform separation detection for Poisson models. When \code{TRUE}
(default), observations with perfect prediction are automatically detected and excluded from estimation. Set to
\code{FALSE} to skip this check and speed up computation when separation is known not to be an issue. The default
is \code{TRUE}.}

\item{init_theta}{Initial value for the negative binomial dispersion parameter (theta). The default is \code{0.0}.}

\item{vcov_type}{Optional character string specifying the type of variance-covariance estimator to be used. It only
applies for formulas with a cluster variable like \code{z ~ x + y | fe | cl}. When \code{NULL} (default), the variance
covariance matrix follows a regular sandwich estimator. When set to \code{"m-estimator"}, uses standard clustered
M-estimator sandwich. When set to \code{"m-estimator-dyadic"}, uses dyadic clustering that accounts for correlation
between observations sharing entities. For dyadic clustering, specify two entity columns in the formula like
\code{z ~ x + y | fe | cl1 + cl2}.}
}
\value{
A named list of control parameters.
}
\description{
Set and change parameters used for fitting \link{feglm}, \link{felm}, and \link{fenegbin}. Termination
conditions are similar to \link[stats]{glm}.
}
\examples{
fit_control(0.05, 0.05, 10L, 10L, TRUE, TRUE, TRUE)

}
\seealso{
\link{feglm}, \link{felm}, and \link{fenegbin}
}
